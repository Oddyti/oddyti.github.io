<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='最优理论算法课程作业'>
<title>最优化理论算法：遗传算法寻找函数最值Matlab实现</title>

<link rel='canonical' href='https://oddyti.com/post/genetic-algorithm/'>

<link rel="stylesheet" href="/scss/style.min.91f3be12d546a8a1a8339fa8269f89663239c28b5e3c0db8a9cc8efae4a98b65.css"><meta property='og:title' content='最优化理论算法：遗传算法寻找函数最值Matlab实现'>
<meta property='og:description' content='最优理论算法课程作业'>
<meta property='og:url' content='https://oddyti.com/post/genetic-algorithm/'>
<meta property='og:site_name' content='Oddyti的小站'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='最优化算法' /><meta property='article:published_time' content='2023-10-30T14:43:47&#43;08:00'/><meta property='article:modified_time' content='2023-10-30T14:43:47&#43;08:00'/>
<meta name="twitter:title" content="最优化理论算法：遗传算法寻找函数最值Matlab实现">
<meta name="twitter:description" content="最优理论算法课程作业">
    <link rel="shortcut icon" href="/favicon.ico" />

  


        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jsSHA/2.0.2/sha256.js"></script>
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="切换菜单">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/snoopy_hu0293233722ff6a3971e5f315aec18cc4_94556_300x0_resize_q75_box.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Oddyti的小站</a></h1>
            <h2 class="site-description">是谁来自山川湖海，却囿于昼夜厨房与爱。</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://space.bilibili.com/51329228'
                        target="_blank"
                        title="Biligili"
                        rel="me"
                    >
                        
                        
                            <svg t="1698647251144" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3988" width="200" height="200"><path d="M306.005333 117.632L444.330667 256h135.296l138.368-138.325333a42.666667 42.666667 0 0 1 60.373333 60.373333L700.330667 256H789.333333A149.333333 149.333333 0 0 1 938.666667 405.333333v341.333334a149.333333 149.333333 0 0 1-149.333334 149.333333h-554.666666A149.333333 149.333333 0 0 1 85.333333 746.666667v-341.333334A149.333333 149.333333 0 0 1 234.666667 256h88.96L245.632 177.962667a42.666667 42.666667 0 0 1 60.373333-60.373334zM789.333333 341.333333h-554.666666a64 64 0 0 0-63.701334 57.856L170.666667 405.333333v341.333334a64 64 0 0 0 57.856 63.701333L234.666667 810.666667h554.666666a64 64 0 0 0 63.701334-57.856L853.333333 746.666667v-341.333334A64 64 0 0 0 789.333333 341.333333zM341.333333 469.333333a42.666667 42.666667 0 0 1 42.666667 42.666667v85.333333a42.666667 42.666667 0 0 1-85.333333 0v-85.333333a42.666667 42.666667 0 0 1 42.666666-42.666667z m341.333334 0a42.666667 42.666667 0 0 1 42.666666 42.666667v85.333333a42.666667 42.666667 0 0 1-85.333333 0v-85.333333a42.666667 42.666667 0 0 1 42.666667-42.666667z" p-id="3989"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://music.163.com/#/user/home?id=556522560'
                        target="_blank"
                        title="网易云"
                        rel="me"
                    >
                        
                        
                            <svg t="1698647303353" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5301" width="200" height="200" ><path d="M616.64142222 49.16337778c25.14488889-7.24764445 52.08746667-6.88355555 77.48266667-1.04675556 29.16124445 6.92906667 56.75235555 20.32071111 80.49777778 38.57066667 8.66986667 6.58773333 16.49777778 14.77973333 20.48 25.088 6.16675555 15.24622222 4.51697778 33.47342222-4.58524445 47.2064-7.94168889 12.33351111-21.44711111 20.92373333-35.99928889 22.76693333-11.62808889 1.59288889-23.81368889-0.87608889-33.80337778-7.05422222-5.632-3.31093333-9.92142222-8.41955555-15.57617777-11.69635555-15.16657778-9.6256-32.63146667-17.2032-50.8928-16.77084445-12.85688889 0.14791111-24.1664 7.68-32.88177778 16.53191111-8.15786667 8.41955555-12.31075555 20.83271111-9.61422222 32.38115556 6.26915555 23.59751111 12.50417778 47.19502222 18.76195555 70.79253333 44.98773333 2.30968889 89.95271111 14.21084445 128.62577778 37.69457778 37.59217778 23.25617778 71.55484445 52.74737778 98.48604444 87.89333333 22.85795555 29.78702222 40.18631111 63.80657778 50.7904 99.82862222 11.48017778 38.82097778 15.20071111 79.75822222 12.20835556 120.08106667-2.49173333 33.26862222-9.03395555 66.34382222-20.32071111 97.78062222-29.184 76.54968889-83.23982222 143.6672-152.81493333 187.16444445-51.02933333 32.23324445-109.63626667 51.67786667-169.40373334 59.09617778-41.25582222 5.15413333-83.29671111 5.17688889-124.34773333-1.85457778-84.35484445-13.93777778-163.40764445-55.97866667-223.40266667-116.70186667-59.61955555-59.73333333-101.11431111-137.26151111-117.89653333-219.96657778-12.37902222-60.3136-11.82151111-123.2896 1.91146667-183.33013333 16.78222222-74.0352 53.87377778-143.29173333 106.01813333-198.43982222 42.53013333-45.28355555 95.06133333-81.11217778 152.72391111-104.2432 5.9392-2.26417778 11.78737778-4.94933333 18.11342222-5.95057778 13.50542222-2.36657778 27.93244445 0.83057778 38.99164445 8.97706666 14.97315555 10.56995555 23.21066667 29.74151111 20.71893333 47.8776889-2.05937778 18.51164445-15.20071111 35.20284445-32.71111111 41.54026666-58.25422222 21.77706667-109.90933333 60.68906667-147.09191111 110.51235556-33.23448889 44.21404445-54.92053333 97.02968889-62.19093334 151.88195555-7.33866667 54.29475555-0.80782222 110.36444445 18.64817778 161.56444445 28.10311111 74.8544 83.97937778 139.264 155.21564445 175.9232 42.89422222 22.2208 91.18151111 33.82613333 139.48017777 33.49617778 39.7312-0.512 79.58755555-6.89493333 116.92942223-20.70755556 32.83626667-12.19697778 63.61315555-30.208 89.78204444-53.5552 24.39395555-21.61777778 44.69191111-47.74115555 60.17706667-76.40177778 7.75964445-14.62044445 14.92764445-29.67324445 19.30808889-45.68177778 12.92515555-45.76142222 15.16657778-95.35715555 1.34257777-141.18684444-11.43466667-38.43413333-34.96391111-72.69262222-65.01262222-99.00942222-13.28924445-11.62808889-27.48871111-22.28906667-42.71217778-31.25475556-13.44853333-7.55484445-28.13724445-12.6976-43.12177777-16.21333333 10.4448 40.84622222 21.61777778 81.52177778 32.21048889 122.33386667 1.79768889 9.78488889 3.59537778 19.56977778 5.27928888 29.37742222 1.54737778 42.10915555-13.22097778 84.52551111-40.37973333 116.736-25.30417778 30.35591111-61.2352 51.712-100.10168889 59.05066666-41.89297778 8.35128889-86.9376 0.46648889-122.91413333-22.75555555-34.34951111-21.77706667-59.72195555-56.26311111-73.10222222-94.43555556-7.5776-21.35608889-11.35502222-43.94097778-12.10595556-66.56-2.29831111-49.20888889 10.56995555-99.48728889 38.71857778-140.1856 33.0752-48.57173333 85.21955555-81.96551111 141.12995555-98.25848889-4.11875555-15.74684445-8.32853333-31.47093333-12.4928-47.21777778-10.79751111-33.98542222-8.4992-72.14648889 7.61173334-104.09528888 8.69262222-17.82897778 21.61777778-33.35964445 36.56817778-46.27342222 16.64568889-14.2336 36.07893333-25.47484445 57.26435555-31.30026667M483.14595555 419.33937778c-14.99591111 15.74684445-25.50897778 35.65795555-30.03733333 56.91164444-4.07324445 19.29671111-4.096 39.41262222-0.43235555 58.76622223 4.47146667 21.37884445 15.50791111 42.2912 33.80337778 54.90915555 14.19946667 10.08071111 32.68835555 13.14133333 49.62986666 9.8304 31.34577778-5.50684445 56.92302222-34.34951111 57.79911111-66.26417778-1.19466667-7.90755555-2.50311111-15.81511111-4.73315555-23.50648889-11.70773333-44.28231111-23.51786667-88.53048889-35.15733334-132.83555555-26.48746667 8.16924445-51.70062222 21.93635555-70.87217778 42.1888z" p-id="5302"></path></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>主页</span>
            </a>
        </li>
        
        
        <li >
            <a href='/categories' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



                
                <span>分类</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>归档</span>
            </a>
        </li>
        
        
        <li >
            <a href='/tags' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11 3L20 12a1.5 1.5 0 0 1 0 2L14 20a1.5 1.5 0 0 1 -2 0L3 11v-4a4 4 0 0 1 4 -4h4" />
  <circle cx="9" cy="9" r="2" />
</svg>



                
                <span>标签</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>友链</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
                <li id="i18n-switch">  
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                    <select name="language" onchange="window.location.href = this.selectedOptions[0].value">
                        
                            <option value="https://oddyti.com/" selected>中文</option>
                        
                    </select>
                </li>
            
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>暗色模式</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">目录</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#问题">问题</a></li>
    <li><a href="#算法思路">算法思路</a>
      <ol>
        <li><a href="#编码">编码</a></li>
        <li><a href="#产生初始种群">产生初始种群</a></li>
        <li><a href="#计算适应度">计算适应度</a></li>
        <li><a href="#选择">选择</a></li>
        <li><a href="#交叉">交叉</a></li>
        <li><a href="#变异">变异</a></li>
        <li><a href="#算法终止判断">算法终止判断</a></li>
        <li><a href="#主函数">主函数</a></li>
      </ol>
    </li>
    <li><a href="#结果">结果</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" >
                学习记录
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/post/genetic-algorithm/">最优化理论算法：遗传算法寻找函数最值Matlab实现</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            最优理论算法课程作业
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Oct 30, 2023</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    阅读时长: 3 分钟
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="问题">问题</h2>
<p>最优化理论与算法课程作业题，用遗传算法求解如下问题：
$$
max \quad f(x) = x \cdot sin(3x) ,   -1 \le x \le 30
$$</p>
<h2 id="算法思路">算法思路</h2>
<p>算法基本流程资料已经很多了，这里贴一个课程PPT里的图：</p>
<img src="https://raw.githubusercontent.com/Oddyti/Resources/main/picgo-img/GA%E6%B5%81%E7%A8%8B%E5%9B%BE.png" alt="GA流程图" style="zoom: 33%;" />
<h3 id="编码">编码</h3>
<p>将问题的解用一种码表示，常用二进制编码。</p>
<p>此题中解即为x的值，考虑6位小数精度，将区间$[-1,30]$调整位$[0,31\cdot 10^{6}]$，得到二进制码码长为25，即基因长度。</p>
<p>基因编码和实际解转换如下：
$$
x = lower+x_{dec}\cdot \frac{upper\ - lower}{2^{genelength}-1} \\
x_{dec} = bin2dec(x_{bin})
$$</p>
<h3 id="产生初始种群">产生初始种群</h3>
<p>确定好了编码类型和长度之后，产生初始种群，选择合适的种群大小。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-matlab" data-lang="matlab"><span class="line"><span class="cl"><span class="c">% 初始化种群</span>
</span></span><span class="line"><span class="cl"><span class="n">populations</span> <span class="p">=</span> <span class="n">randi</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">population_size</span><span class="p">,</span> <span class="n">gene_length</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="计算适应度">计算适应度</h3>
<p>遗传算法中以种群中个体的适应度来作为选择的依据。本题中适应度由目标函数变换而成。
$$
fitness(x) = f(x)
$$
适应度计算函数：<code>cal_fitness()</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-matlab" data-lang="matlab"><span class="line"><span class="cl"><span class="c">% 计算适应度函数</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span><span class="w"> </span>fitness <span class="p">=</span><span class="w"> </span><span class="nf">cal_fitness</span><span class="p">(</span>func, populations, upper_limit, lower_limit<span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">[</span><span class="n">population_size</span><span class="p">,</span> <span class="n">gene_length</span><span class="p">]</span> <span class="p">=</span> <span class="nb">size</span><span class="p">(</span><span class="n">populations</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">populations_x</span> <span class="p">=</span> <span class="n">bin2dec</span><span class="p">(</span><span class="n">num2str</span><span class="p">(</span><span class="n">populations</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">x</span> <span class="p">=</span> <span class="n">lower_limit</span> <span class="o">+</span> <span class="n">populations_x</span> <span class="o">*</span> <span class="p">(</span><span class="n">upper_limit</span> <span class="o">-</span> <span class="n">lower_limit</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> ^ <span class="n">gene_length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">fitness</span> <span class="p">=</span> <span class="nb">zeros</span><span class="p">(</span><span class="n">population_size</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nb">i</span> <span class="p">=</span> <span class="mi">1</span><span class="p">:</span><span class="n">population_size</span>
</span></span><span class="line"><span class="cl">        <span class="n">fitness</span><span class="p">(</span><span class="nb">i</span><span class="p">)</span> <span class="p">=</span> <span class="n">func</span><span class="p">(</span><span class="n">x</span><span class="p">(</span><span class="nb">i</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">end</span>
</span></span><span class="line"><span class="cl"><span class="k">end</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="选择">选择</h3>
<p>得到种群中个体的适应度后，便可以根据适应度进行选择。常用的选择方法为：比例选择。其基本思想：每个个体被选中的概率与其适应度值成正比，设种群规模为$M$，个体$i$的适应度值为$f_i$，则个体$i$被选中的概率$P_i$为:
$$
P_i = \frac{f_i}{\sum_{i = 1}^{M}f_i}
$$
确定好选中概率后，采用轮盘赌的方式来选择出个体。轮盘赌次数为个体数量。</p>
<p>轮盘赌选择函数：<code>select_population()</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-matlab" data-lang="matlab"><span class="line"><span class="cl"><span class="c">% 计算适应度函数</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span><span class="w"> </span>fitness <span class="p">=</span><span class="w"> </span><span class="nf">cal_fitness</span><span class="p">(</span>func, populations, upper_limit, lower_limit<span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">[</span><span class="n">population_size</span><span class="p">,</span> <span class="n">gene_length</span><span class="p">]</span> <span class="p">=</span> <span class="nb">size</span><span class="p">(</span><span class="n">populations</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">populations_x</span> <span class="p">=</span> <span class="n">bin2dec</span><span class="p">(</span><span class="n">num2str</span><span class="p">(</span><span class="n">populations</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="n">x</span> <span class="p">=</span> <span class="n">lower_limit</span> <span class="o">+</span> <span class="n">populations_x</span> <span class="o">*</span> <span class="p">(</span><span class="n">upper_limit</span> <span class="o">-</span> <span class="n">lower_limit</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> ^ <span class="n">gene_length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">fitness</span> <span class="p">=</span> <span class="nb">zeros</span><span class="p">(</span><span class="n">population_size</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nb">i</span> <span class="p">=</span> <span class="mi">1</span><span class="p">:</span><span class="n">population_size</span>
</span></span><span class="line"><span class="cl">        <span class="n">fitness</span><span class="p">(</span><span class="nb">i</span><span class="p">)</span> <span class="p">=</span> <span class="n">func</span><span class="p">(</span><span class="n">x</span><span class="p">(</span><span class="nb">i</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">end</span>
</span></span><span class="line"><span class="cl"><span class="k">end</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="交叉">交叉</h3>
<p>选择出个体后，根据交叉概率，对个体进行两两交叉操作，对于二进制编码，常用交叉的方法是单点交叉。交叉概率用以决定当前一对个体是否进行交叉，不宜太大，否则个体更新过快，高适应度的个体容易被破坏，不宜太小，否则算法容易停滞。</p>
<p>交叉函数：<code>cross_population()</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-matlab" data-lang="matlab"><span class="line"><span class="cl"><span class="c">% 交叉</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span><span class="w"> </span>new_populations <span class="p">=</span><span class="w"> </span><span class="nf">cross_population</span><span class="p">(</span>populations, cross_prob<span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">[</span><span class="n">population_size</span><span class="p">,</span> <span class="n">gene_length</span><span class="p">]</span> <span class="p">=</span> <span class="nb">size</span><span class="p">(</span><span class="n">populations</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">new_populations</span> <span class="p">=</span> <span class="n">populations</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nb">i</span> <span class="p">=</span> <span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span><span class="n">population_size</span>
</span></span><span class="line"><span class="cl">        <span class="n">prob</span> <span class="p">=</span> <span class="nb">rand</span><span class="p">;</span> <span class="c">% 用于判决是否进行交叉</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">prob</span> <span class="o">&lt;</span><span class="p">=</span> <span class="n">cross_prob</span>
</span></span><span class="line"><span class="cl">            <span class="n">cross_index</span> <span class="p">=</span> <span class="n">randi</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">gene_length</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">            <span class="n">temp</span> <span class="p">=</span> <span class="n">new_populations</span><span class="p">(</span><span class="nb">i</span><span class="p">,</span> <span class="p">:);</span>
</span></span><span class="line"><span class="cl">            <span class="n">temp</span><span class="p">(:,</span> <span class="n">cross_index</span><span class="p">:</span><span class="k">end</span><span class="p">)</span> <span class="p">=</span> <span class="n">new_populations</span><span class="p">(</span><span class="nb">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">cross_index</span><span class="p">:</span><span class="k">end</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">new_populations</span><span class="p">(</span><span class="nb">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">cross_index</span><span class="p">:</span><span class="k">end</span><span class="p">)</span> <span class="p">=</span> <span class="n">new_populations</span><span class="p">(</span><span class="nb">i</span><span class="p">,</span> <span class="n">cross_index</span><span class="p">:</span><span class="k">end</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">new_populations</span><span class="p">(</span><span class="nb">i</span><span class="p">,</span> <span class="p">:)</span> <span class="p">=</span> <span class="n">temp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">end</span>
</span></span><span class="line"><span class="cl">    <span class="k">end</span>
</span></span><span class="line"><span class="cl"><span class="k">end</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="变异">变异</h3>
<p>交叉完成后，根据变异概率对个体进行变异操作，具体是指对变异的个体随机选择某一位进行反转操作。并非所有被选择的个体，都要进行变异操作。变异概率太小很难产生新个体，太大会使GA成为随机搜索。</p>
<p>变异函数：<code>mutate_population()</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-matlab" data-lang="matlab"><span class="line"><span class="cl"><span class="c">% 变异函数</span>
</span></span><span class="line"><span class="cl"><span class="k">function</span><span class="w"> </span>new_populations <span class="p">=</span><span class="w"> </span><span class="nf">mutate_population</span><span class="p">(</span>populations, mutation_prob<span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">[</span><span class="n">population_size</span><span class="p">,</span> <span class="n">gene_length</span><span class="p">]</span> <span class="p">=</span> <span class="nb">size</span><span class="p">(</span><span class="n">populations</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">new_populations</span> <span class="p">=</span> <span class="n">populations</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nb">i</span> <span class="p">=</span> <span class="mi">1</span><span class="p">:</span><span class="n">population_size</span>
</span></span><span class="line"><span class="cl">        <span class="n">prob</span> <span class="p">=</span> <span class="nb">rand</span><span class="p">;</span> <span class="c">% 决定是否变异</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">prob</span> <span class="o">&lt;</span><span class="p">=</span> <span class="n">mutation_prob</span>
</span></span><span class="line"><span class="cl">            <span class="n">mutation_index</span> <span class="p">=</span> <span class="n">randi</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">gene_length</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">            <span class="n">new_populations</span><span class="p">(</span><span class="nb">i</span><span class="p">,</span> <span class="n">mutation_index</span><span class="p">)</span> <span class="p">=</span> <span class="o">~</span><span class="n">new_populations</span><span class="p">(</span><span class="nb">i</span><span class="p">,</span> <span class="n">mutation_index</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">end</span>
</span></span><span class="line"><span class="cl">    <span class="k">end</span>
</span></span><span class="line"><span class="cl"><span class="k">end</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="算法终止判断">算法终止判断</h3>
<p>常用预先设定迭代（进化）次数作为终止条件。其次以最优值是否连续若干步没有明显变化作为终止条件。</p>
<h3 id="主函数">主函数</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-matlab" data-lang="matlab"><span class="line"><span class="cl"><span class="n">clear</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">clc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">close</span> <span class="n">all</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">% 目标函数</span>
</span></span><span class="line"><span class="cl"><span class="n">func</span> <span class="p">=</span> <span class="p">@(</span><span class="n">x</span><span class="p">)</span> <span class="n">x</span> <span class="o">*</span> <span class="nb">sin</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">% 全局参数</span>
</span></span><span class="line"><span class="cl"><span class="n">population_size</span> <span class="p">=</span> <span class="mi">100</span><span class="p">;</span> 	<span class="c">% 种群数量</span>
</span></span><span class="line"><span class="cl"><span class="n">gene_length</span> <span class="p">=</span> <span class="mi">25</span><span class="p">;</span> 		<span class="c">% 基因长度，精度定为6位小数</span>
</span></span><span class="line"><span class="cl"><span class="n">cross_prob</span> <span class="p">=</span> <span class="mf">0.20</span><span class="p">;</span> 		<span class="c">% 交叉概率</span>
</span></span><span class="line"><span class="cl"><span class="n">mutation_prob</span> <span class="p">=</span> <span class="mf">0.01</span><span class="p">;</span> 	<span class="c">% 变异概率</span>
</span></span><span class="line"><span class="cl"><span class="n">max_epochs</span> <span class="p">=</span> <span class="mi">1000</span><span class="p">;</span> 		<span class="c">% 最大迭代次数</span>
</span></span><span class="line"><span class="cl"><span class="n">upper_limit</span> <span class="p">=</span> <span class="mi">30</span><span class="p">;</span> 		<span class="c">% 上限</span>
</span></span><span class="line"><span class="cl"><span class="n">lower_limit</span> <span class="p">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> 		<span class="c">% 下限</span>
</span></span><span class="line"><span class="cl"><span class="n">best_x_bin</span> <span class="p">=</span> <span class="p">[];</span> 		<span class="c">% 最优解</span>
</span></span><span class="line"><span class="cl"><span class="n">best_f</span> <span class="p">=</span> <span class="o">-</span><span class="n">Inf</span><span class="p">;</span> 			<span class="c">% 最优解适应度</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">% 初始化种群</span>
</span></span><span class="line"><span class="cl"><span class="n">populations</span> <span class="p">=</span> <span class="n">randi</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">population_size</span><span class="p">,</span> <span class="n">gene_length</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">% 迭代主函数</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">epoch</span> <span class="p">=</span> <span class="mi">1</span><span class="p">:</span><span class="n">max_epochs</span>
</span></span><span class="line"><span class="cl">    <span class="c">% 计算适应度</span>
</span></span><span class="line"><span class="cl">    <span class="n">fitness</span> <span class="p">=</span> <span class="n">cal_fitness</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">populations</span><span class="p">,</span> <span class="n">upper_limit</span><span class="p">,</span> <span class="n">lower_limit</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c">% 选择 轮盘赌</span>
</span></span><span class="line"><span class="cl">    <span class="n">populations_selected</span> <span class="p">=</span> <span class="n">select_population</span><span class="p">(</span><span class="n">populations</span><span class="p">,</span> <span class="n">fitness</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c">% 交叉</span>
</span></span><span class="line"><span class="cl">    <span class="n">populations_crossed</span> <span class="p">=</span> <span class="n">cross_population</span><span class="p">(</span><span class="n">populations_selected</span><span class="p">,</span> <span class="n">cross_prob</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c">% 变异</span>
</span></span><span class="line"><span class="cl">    <span class="n">populations_mutated</span> <span class="p">=</span> <span class="n">mutate_population</span><span class="p">(</span><span class="n">populations_crossed</span><span class="p">,</span> <span class="n">mutation_prob</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c">% 更新种群</span>
</span></span><span class="line"><span class="cl">    <span class="n">populations</span> <span class="p">=</span> <span class="n">populations_mutated</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c">% 更新最优解</span>
</span></span><span class="line"><span class="cl">    <span class="n">fitness</span> <span class="p">=</span> <span class="n">cal_fitness</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">populations</span><span class="p">,</span> <span class="n">upper_limit</span><span class="p">,</span> <span class="n">lower_limit</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span><span class="n">max_fitness</span><span class="p">,</span> <span class="n">max_index</span><span class="p">]</span> <span class="p">=</span> <span class="n">max</span><span class="p">(</span><span class="n">fitness</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">max_fitness</span> <span class="o">&gt;</span> <span class="n">best_f</span>
</span></span><span class="line"><span class="cl">        <span class="n">best_x_bin</span> <span class="p">=</span> <span class="n">populations</span><span class="p">(</span><span class="n">max_index</span><span class="p">,</span> <span class="p">:);</span>
</span></span><span class="line"><span class="cl">        <span class="n">best_x</span> <span class="p">=</span> <span class="n">bin2dec</span><span class="p">(</span><span class="n">num2str</span><span class="p">(</span><span class="n">best_x_bin</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="n">best_x</span> <span class="p">=</span> <span class="n">lower_limit</span> <span class="o">+</span> <span class="n">best_x</span> <span class="o">*</span> <span class="p">(</span><span class="n">upper_limit</span> <span class="o">-</span> <span class="n">lower_limit</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> ^ <span class="n">gene_length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">best_f</span> <span class="p">=</span> <span class="n">max_fitness</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">end</span>
</span></span><span class="line"><span class="cl"><span class="k">end</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="结果">结果</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">最优解 x = 29.840208， 目标函数值 f = 29.836955
</span></span></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/%E6%9C%80%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/">最优化算法</a>
        
    </section>


    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"integrity="sha256-J&#43;iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s="crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js"integrity="sha256-InsNdER1b2xUewP&#43;pKCUJpkhiqwHgqiPXDlIk7GzBu4="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js"integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI="crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">相关文章</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/post/simulated-annealing/">
        
        

        <div class="article-details">
            <h2 class="article-title">最优化理论算法：模拟退火算法寻找函数最值Matlab实现</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/post/heuristically-search/">
        
        

        <div class="article-details">
            <h2 class="article-title">最优化理论算法：用启发式搜索求解数独问题Matlab实现</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/post/dom-study/">
        
        

        <div class="article-details">
            <h2 class="article-title">DOM学习记录</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/post/js-study/">
        
        
            <div class="article-image">
                <img src="/post/js-study/JS.c33a234a8feb36730bcddca60f6f23c9_hud9a0e1aaaa18abe1d78c83f6e7f2515f_2248_250x150_fill_box_smart1_3.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post JavaScript学习记录"
                        data-key="js-study" 
                        data-hash="md5-wzojSo/rNnMLzdymD28jyQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">JavaScript学习记录</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/post/hugo-problems/">
        
        
            <div class="article-image">
                <img src="/post/hugo-problems/cover.f0bebcc5193f193233bd7cfca6dbb127_hu28c518729dfa1b2cc62a2415a1cb950b_74161_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post Hugo（Stack主题）博客搭建过程中踩过的坑"
                        data-key="hugo-problems" 
                        data-hash="md5-8L68xRk/GTIzvXz8ptuxJw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Hugo（Stack主题）博客搭建过程中踩过的坑</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script
    src="https://giscus.app/client.js"
    data-repo="Oddyti/Giscus"
    data-repo-id="R_kgDOKmaUDg"
    data-category="Announcements"
    data-category-id="DIC_kwDOKmaUDs4CahZG"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="light"
    data-lang="en"
    crossorigin="anonymous"
    async
></script>
<script>
    function setGiscusTheme(theme) {
        let giscus = document.querySelector("iframe.giscus-frame");
        if (giscus) {
            giscus.contentWindow.postMessage(
                {
                    giscus: {
                        setConfig: {
                            theme: theme,
                        },
                    },
                },
                "https://giscus.app"
            );
        }
    }

    (function () {
        addEventListener("message", (e) => {
            if (event.origin !== "https://giscus.app") return;
            handler();
        });
        window.addEventListener("onColorSchemeChange", handler);

        function handler() {
            if (document.documentElement.dataset.scheme === "light") {
                setGiscusTheme('light');
            } else {
                setGiscusTheme('transparent_dark');
            }
        }
    })();
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2024 Oddyti
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        主题 <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.21.0">Stack</a></b> 由 <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> 设计
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&family=Long+Cang&family=Ma+Shan+Zheng&family=Noto+Sans+SC:wght@300&family=Noto+Serif+SC:wght@300&family=Zhi+Mang+Xing&display=swap" rel="stylesheet">

        
    </body>
</html>
